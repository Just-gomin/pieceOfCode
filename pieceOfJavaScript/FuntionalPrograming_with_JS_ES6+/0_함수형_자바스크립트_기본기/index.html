<script>
  const log = console.log;
</script>

<!-- 
    1. 평가(Evaluation)
    - 코드가 계산 되어 값을 만드는 것
-->
<script>
  log("1. ---------------");
  log(1); // 1이 평가되어 1이라는 값을 만듬
  log(1 + 2); // 1+2가 평가되어 3이라는 값을 만듬
</script>

<!-- 
    2. 일급
    - 값으로 다룰 수 있다.
    - 변수에 담을 수 있다.
    - 함수의 인자로 사용될 수 있다.
    - 함수의 결과로 사용될 수 있다. 
-->

<script>
  log("2. ---------------");
  const a = 10; // 10은 값으로 다루어 지며, a 라는 변수에 담을 수 있다.
  const add10 = (n) => n + 10;
  const r = add10(a); // a는 함수의 인자로 사용되며, add10(a)는 n + 10이라는 함수의 결과로 사용된다
  log(r);
</script>

<!--
    3. 일급 함수
    - 함수를 값으로 다룰 수 있다.
    - 조합성과 추상화의 도구
-->

<script>
  log("3. ---------------");
  const f1 = (v) => v + 5; // v+5 라는 함수를 값으로 f1이라는 변수에 담는다.
  log(f1);

  const f2 = (func, v) => log(func(v)); // 함수와 값을 인자로 받아 수행하고 로그를 남긴다. => 함수를 조합하고 추상화 할 수 있다.
  f2(f1, 5);
</script>

<!--
    4. 고차 함수
    - 함수를 값으로 다루는 함수
-->

<!-- 
    4-1. 함수를 인자로 받아서 실행하는 함수
 -->
<script>
  log("4-1. ---------------");
  const apply1 = (f) => f(1); // 함수를 인자로 받아, 함수에 1을 적용해 실행
  const add2 = (n) => n + 2;
  log(apply1(add2));

  const times = (f, n) => {
    for (let i = 0; i < n; i++) f(i);
  };
  times((a) => log(a + 3), 10);
</script>

<!-- 
    4-2. 함수를 만들어 리턴하는 함수(클로저를 만들어 리턴하는 함수)
 -->
<script>
  log("4-2. ---------------");
  const addMaker = (a) => (b) => a + b; // 함수를 만들어서 리턴하는 함수. a를 기억하는 클로저이다.
  const newAdd10 = addMaker(10);
  log(newAdd10(5));
  log(newAdd10(8));
</script>

<!-- 
    # 클로저
    - https://developer.mozilla.org/ko/docs/Web/JavaScript/Closures
    - 함수가 만들어질 당시의 환경의 구성
 -->
