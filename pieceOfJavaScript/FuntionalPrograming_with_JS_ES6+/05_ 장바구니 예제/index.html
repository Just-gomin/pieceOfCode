<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML 출력해보기 - 장바구니</title>
    <script src="../lib/fx.js"></script>
  </head>
  <body>
    <div id="cart"></div>
    <script>
      const log = console.log;
    </script>
    <script>
      class Product {
        constructor(name, price, quantity) {
          this.name = name;
          this.price = price;
          this.quantity = quantity;
        }
      }

      const products = [
        new Product("반팔티", 15000, 1),
        new Product("긴팔티", 20000, 2),
        new Product("핸드폰케이스", 15000, 3),
        new Product("후드티", 30000, 4),
        new Product("바지", 25000, 5),
      ];

      const add = (a, b) => a + b;

      // 1. ---------------
      //   // 총 수량 1
      //   const totalQuantity = pipe(
      //     map((p) => p.quantity),
      //     reduce(add)
      //   );

      //   //   총 금액 1
      //   const totalPrice = pipe(
      //     map((p) => p.price * p.quantity),
      //     reduce(add)
      //   );

      // 2. ---------------
      //   const sum = (f, iter) => go(iter, map(f), reduce(add));

      // 총 수량 2
      //   const totalQuantity = (products) => sum((p) => p.quantity, products);

      // 총 금액 2
      //   const totalPrice = (products) =>
      //     sum((p) => p.price * p.quantity, products);

      // 3. ---------------
      const sum = curry((f, iter) => go(iter, map(f), reduce(add)));

      //   총 수량 3
      const totalQuantity = sum((p) => p.quantity);

      //   총 금액 3
      const totalPrice = sum((p) => p.price * p.quantity);

      log(totalQuantity(products));
      log(totalPrice(products));
    </script>
  </body>
</html>
